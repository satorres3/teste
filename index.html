<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login - The Future of Tech</title>
    <link rel="stylesheet" href="index.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&family=Roboto:wght@400;500&display=swap" rel="stylesheet">
    <script type="module" src="index.tsx"></script>
<script type="importmap">
{
  "imports": {
    "@google/genai": "https://esm.sh/@google/genai@^1.14.0"
  }
}
</script>
</head>
<body>
    <div id="root">
        <!-- Login Page View -->
        <div id="login-page" class="page-view">
            <div class="login-container">
                <div id="login-app-logo" class="app-logo large">
                    <svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                        <path d="M50 0 L100 25 L100 75 L50 100 L0 75 L0 25 Z" fill="none" stroke="currentColor" stroke-width="5"/>
                        <path d="M20 35 L50 50 L80 35 M50 50 L50 80" fill="none" stroke="currentColor" stroke-width="4"/>
                    </svg>
                </div>
                <h1 id="login-title-text" class="login-title">The Future of Tech</h1>
                <p id="login-subtitle-text" class="login-subtitle">Sign in to continue</p>
                <div class="sso-buttons">
                    <button id="google-login" class="sso-btn google-btn" aria-label="Sign in with Google">
                        <svg viewBox="0 0 48 48" width="24" height="24"><path fill="#FFC107" d="M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"></path><path fill="#FF3D00" d="M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"></path><path fill="#4CAF50" d="M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.222,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"></path><path fill="#1976D2" d="M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571l6.19,5.238C43.021,36.251,44,30.495,44,24C44,22.659,43.862,21.35,43.611,20.083z"></path></svg>
                        <span>Sign in with Google</span>
                    </button>
                    <button id="microsoft-login" class="sso-btn microsoft-btn" aria-label="Sign in with Microsoft">
                        <svg viewBox="0 0 21 21" width="21" height="21" fill="currentColor"><path d="M1 1h9v9H1z" fill="#f25022"></path><path d="M11 1h9v9h-9z" fill="#7fba00"></path><path d="M1 11h9v9H1z" fill="#00a4ef"></path><path d="M11 11h9v9h-9z" fill="#ffb900"></path></svg>
                        <span>Sign in with Microsoft</span>
                    </button>
                </div>
            </div>
        </div>

        <!-- Container Hub Page View -->
        <div id="hub-page" class="page-view hidden">
             <header class="app-header">
                <div class="header-left">
                     <div id="hub-app-logo" class="app-logo small">
                        <svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                            <path d="M50 0 L100 25 L100 75 L50 100 L0 75 L0 25 Z" fill="none" stroke="currentColor" stroke-width="5"/>
                            <path d="M20 35 L50 50 L80 35 M50 50 L50 80" fill="none" stroke="currentColor" stroke-width="4"/>
                        </svg>
                    </div>
                    <span id="hub-header-title" class="header-title">The Hub</span>
                </div>
                <div class="header-right">
                    <button id="settings-btn" class="header-icon-btn" aria-label="Open Settings">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="3"></circle><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path></svg>
                    </button>
                    <div class="user-profile-menu">
                        <button class="user-profile-trigger" aria-haspopup="true" aria-expanded="false">
                            <div class="user-avatar">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle></svg>
                            </div>
                            <span class="user-name">Alex Thorne</span>
                            <svg class="chevron-down" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="6 9 12 15 18 9"></polyline></svg>
                        </button>
                        <div class="user-profile-dropdown hidden">
                            <div class="dropdown-user-info">
                                <strong>Alex Thorne</strong>
                                <span>alex.thorne@example.com</span>
                            </div>
                            <a href="#" class="dropdown-link" data-action="logout">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path><polyline points="16 17 21 12 16 7"></polyline><line x1="21" y1="12" x2="9" y2="12"></line></svg>
                                <span>Logout</span>
                            </a>
                        </div>
                    </div>
                </div>
            </header>
            <div class="hub-container">
                <h1 id="hub-title-text" class="hub-title">Welcome to the Hub</h1>
                <p id="hub-subtitle-text" class="hub-subtitle">Select a container to get started</p>
                <div id="container-grid" class="container-grid">
                    <!-- Container cards will be dynamically inserted here -->
                </div>
            </div>
        </div>

        <!-- Settings Hub Page View -->
        <div id="settings-hub-page" class="page-view hidden">
             <header class="app-header">
                <div class="header-left">
                    <button class="back-to-hub-btn header-icon-btn" aria-label="Back to Hub">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="19" y1="12" x2="5" y2="12"></line><polyline points="12 19 5 12 12 5"></polyline></svg>
                    </button>
                    <span id="settings-hub-title" class="header-title">Settings</span>
                </div>
                <div class="header-right">
                    <button class="back-to-hub-btn header-icon-btn" aria-label="Go to Hub">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path><polyline points="9 22 9 12 15 12 15 22"></polyline></svg>
                    </button>
                </div>
            </header>
            <div class="settings-container">
                <h1 class="settings-title">Settings</h1>
                <div class="settings-hub-grid">
                    <div id="container-management-card" class="settings-hub-card" role="button" tabindex="0">
                        <div class="settings-hub-card-icon">
                            <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="3" width="7" height="7"></rect><rect x="14" y="3" width="7" height="7"></rect><rect x="14" y="14" width="7" height="7"></rect><rect x="3" y="14" width="7" height="7"></rect></svg>
                        </div>
                        <h2 class="settings-hub-card-title">Container Management</h2>
                        <p class="settings-hub-card-desc">Create, edit, and manage all your containers and their specific settings.</p>
                    </div>
                    <div id="global-settings-card" class="settings-hub-card" role="button" tabindex="0">
                        <div class="settings-hub-card-icon">
                            <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="3"></circle><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path></svg>
                        </div>
                        <h2 class="settings-hub-card-title">Global Settings</h2>
                        <p class="settings-hub-card-desc">Manage application-wide settings like branding, authentication, and privacy.</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Container Management Page View -->
        <div id="container-management-page" class="page-view hidden">
            <header class="app-header">
                <div class="header-left">
                    <button id="back-to-settings-hub-btn-1" class="header-icon-btn" aria-label="Back to Settings">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="19" y1="12" x2="5" y2="12"></line><polyline points="12 19 5 12 12 5"></polyline></svg>
                    </button>
                    <span id="container-management-title" class="header-title">Container Management</span>
                </div>
                 <div class="header-right">
                    <button class="back-to-hub-btn header-icon-btn" aria-label="Go to Hub">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path><polyline points="9 22 9 12 15 12 15 22"></polyline></svg>
                    </button>
                </div>
            </header>
            <div class="settings-container">
                <div class="settings-section-header">
                     <h1 class="settings-title">Container Management</h1>
                     <button id="add-container-btn" class="modal-btn modal-btn-primary">Add New</button>
                </div>
                <div id="container-management-grid" class="container-management-grid">
                    <!-- Container management cards will be dynamically inserted here -->
                </div>
            </div>
        </div>

        <!-- Global Settings Page View -->
        <div id="global-settings-page" class="page-view hidden">
             <header class="app-header">
                <div class="header-left">
                    <button id="back-to-settings-hub-btn-2" class="header-icon-btn" aria-label="Back to Settings">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="19" y1="12" x2="5" y2="12"></line><polyline points="12 19 5 12 12 5"></polyline></svg>
                    </button>
                    <span id="global-settings-title" class="header-title">Global Settings</span>
                </div>
                 <div class="header-right">
                    <button class="back-to-hub-btn header-icon-btn" aria-label="Go to Hub">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path><polyline points="9 22 9 12 15 12 15 22"></polyline></svg>
                    </button>
                </div>
            </header>
            <div class="settings-container">
                <h1 class="settings-title">Global Settings</h1>
                <nav id="global-settings-tabs" class="settings-tabs">
                    <button class="tab-link active" data-tab="branding">Branding & Appearance</button>
                    <button class="tab-link" data-tab="models">Model Management</button>
                    <button class="tab-link" data-tab="auth">Authentication</button>
                    <button class="tab-link" data-tab="privacy">Privacy & Cookies</button>
                    <button class="tab-link" data-tab="integrations">Integrations</button>
                </nav>
                <form id="global-settings-form">
                    <div id="global-settings-panels" class="settings-panels">
                        <div id="tab-panel-branding" class="tab-panel active">
                             <div class="settings-section">
                                <div class="appearance-layout">
                                    <div class="appearance-controls">
                                        <h2 class="settings-section-title">Global Branding & Appearance</h2>
                                        <p class="settings-section-description">Customize the main logo and titles for all users.</p>
                                        <div class="form-group">
                                            <label for="edit-global-logo" class="form-label">Application Logo</label>
                                            <button type="button" id="edit-global-logo-btn" class="modal-btn modal-btn-secondary">Choose Image...</button>
                                            <input type="file" id="edit-global-logo-upload" class="hidden" accept="image/png, image/jpeg, image/webp, image/svg+xml">
                                        </div>
                                        <div class="form-group">
                                            <label for="edit-login-title" class="form-label">Login Page Title</label>
                                            <input type="text" id="edit-login-title" class="form-input">
                                        </div>
                                        <div class="form-group">
                                            <label for="edit-login-subtitle" class="form-label">Login Page Subtitle</label>
                                            <input type="text" id="edit-login-subtitle" class="form-input">
                                        </div>
                                        <div class="form-group">
                                            <label for="edit-hub-header-title" class="form-label">Hub Page Header Title</label>
                                            <input type="text" id="edit-hub-header-title" class="form-input">
                                        </div>
                                        <div class="form-group">
                                            <label for="edit-hub-title" class="form-label">Hub Page Main Title</label>
                                            <input type="text" id="edit-hub-title" class="form-input">
                                        </div>
                                        <div class="form-group">
                                            <label for="edit-hub-subtitle" class="form-label">Hub Page Subtitle</label>
                                            <input type="text" id="edit-hub-subtitle" class="form-input">
                                        </div>
                                    </div>
                                    <div class="appearance-preview-container">
                                        <div class="settings-section">
                                            <h2 class="settings-section-title">Live Preview</h2>
                                            <div id="branding-preview" class="branding-preview">
                                                <div class="login-container">
                                                    <div id="branding-preview-logo" class="app-logo large">
                                                        <svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                                                            <path d="M50 0 L100 25 L100 75 L50 100 L0 75 L0 25 Z" fill="none" stroke="currentColor" stroke-width="5"></path>
                                                            <path d="M20 35 L50 50 L80 35 M50 50 L50 80" fill="none" stroke="currentColor" stroke-width="4"></path>
                                                        </svg>
                                                    </div>
                                                    <h1 id="branding-preview-title" class="login-title"></h1>
                                                    <p id="branding-preview-subtitle" class="login-subtitle"></p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div id="tab-panel-models" class="tab-panel">
                             <div class="settings-section">
                                <h2 class="settings-section-title">AI Model Management</h2>
                                <p class="settings-section-description">Add, edit, or remove the AI models available across the application. The model ID should match the API identifier (e.g., 'gemini-2.5-flash').</p>
                                <div id="model-management-list" class="managed-list">
                                    <!-- Dynamically inserted model list -->
                                </div>
                                <form id="add-model-form" class="add-item-form">
                                    <input type="text" id="new-model-id" class="form-input" placeholder="Model ID (e.g., brand/model-name)" required>
                                    <input type="text" id="new-model-api" class="form-input" placeholder="API provider (e.g., google)" required>
                                    <input type="text" id="new-model-icon" class="form-input" placeholder="<svg>...</svg>" required>
                                    <button type="submit" class="modal-btn modal-btn-primary">Add Model</button>
                                </form>
                             </div>
                        </div>
                        <div id="tab-panel-auth" class="tab-panel">
                             <div class="settings-section">
                                <h2 class="settings-section-title">Authentication (OAuth)</h2>
                                <p class="settings-section-description">Enable or disable third-party login providers and configure their credentials.</p>
                                <div class="settings-subsection">
                                    <h3 class="settings-subsection-title">Google Login</h3>
                                    <div class="form-group-row">
                                        <label for="enable-google-login" class="toggle-switch-label">Enable Google Login</label>
                                        <label class="toggle-switch"><input type="checkbox" id="enable-google-login"><span class="slider"></span></label>
                                    </div>
                                    <div class="form-group">
                                        <label for="google-client-id" class="form-label">Google Client ID</label>
                                        <input type="text" id="google-client-id" class="form-input" placeholder="Enter Google Client ID">
                                    </div>
                                    <div class="form-group">
                                        <label for="google-client-secret" class="form-label">Google Client Secret</label>
                                        <input type="password" id="google-client-secret" class="form-input" placeholder="Enter Google Client Secret">
                                    </div>
                                </div>
                                <div class="settings-subsection">
                                    <h3 class="settings-subsection-title">Microsoft Login</h3>
                                    <div class="form-group-row">
                                        <label for="enable-microsoft-login" class="toggle-switch-label">Enable Microsoft Login</label>
                                        <label class="toggle-switch"><input type="checkbox" id="enable-microsoft-login"><span class="slider"></span></label>
                                    </div>
                                     <div class="form-group">
                                        <label for="microsoft-client-id" class="form-label">Microsoft Client ID</label>
                                        <input type="text" id="microsoft-client-id" class="form-input" placeholder="Enter Microsoft Client ID">
                                    </div>
                                    <div class="form-group">
                                        <label for="microsoft-client-secret" class="form-label">Microsoft Client Secret</label>
                                        <input type="password" id="microsoft-client-secret" class="form-input" placeholder="Enter Microsoft Client Secret">
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div id="tab-panel-privacy" class="tab-panel">
                             <div class="settings-section">
                                <h2 class="settings-section-title">Privacy & Cookies</h2>
                                <p class="settings-section-description">Manage privacy settings for your users.</p>
                                <div class="form-group-row">
                                    <label for="enable-cookie-banner" class="toggle-switch-label">Enable Cookie Consent Banner</label>
                                    <label class="toggle-switch"><input type="checkbox" id="enable-cookie-banner"><span class="slider"></span></label>
                                </div>
                                <div class="form-group">
                                    <label for="privacy-policy-url" class="form-label">Privacy Policy URL</label>
                                    <input type="url" id="privacy-policy-url" class="form-input" placeholder="https://example.com/privacy">
                                </div>
                            </div>
                        </div>
                        <div id="tab-panel-integrations" class="tab-panel">
                            <div class="settings-section">
                                <h2 class="settings-section-title">Integrations</h2>
                                <p class="settings-section-description">Globally enable or disable integrations. They can be activated per-container in the container's settings.</p>
                                <div id="integrations-grid" class="integrations-grid">
                                    <!-- Integration cards will be inserted here by JS -->
                                </div>
                            </div>
                        </div>
                    </div>
                    <footer class="settings-footer">
                        <button type="button" id="cancel-global-settings-btn" class="modal-btn modal-btn-secondary">Cancel</button>
                        <button type="button" id="save-global-settings-btn" class="modal-btn modal-btn-primary" disabled>Save Changes</button>
                    </footer>
                </form>
            </div>
        </div>
        
        <!-- Settings Detail Page View -->
        <div id="settings-detail-page" class="page-view hidden">
             <header class="app-header">
                <div class="header-left">
                     <button id="back-to-container-management-btn" class="header-icon-btn" aria-label="Back to Settings">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="19" y1="12" x2="5" y2="12"></line><polyline points="12 19 5 12 12 5"></polyline></svg>
                    </button>
                     <span id="settings-detail-title" class="header-title">Edit Container</span>
                </div>
                <div class="header-right">
                    <button class="back-to-hub-btn header-icon-btn" aria-label="Go to Hub">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path><polyline points="9 22 9 12 15 12 15 22"></polyline></svg>
                    </button>
                </div>
            </header>
            <div id="settings-form-container" class="settings-container">
                <nav id="settings-tabs" class="settings-tabs">
                    <button class="tab-link active" data-tab="general">General</button>
                    <button class="tab-link" data-tab="customization">Customization</button>
                    <button class="tab-link" data-tab="appearance">Appearance</button>
                    <button class="tab-link" data-tab="apps">Apps & Functions</button>
                    <button class="tab-link" data-tab="integrations">Integrations</button>
                    <button class="tab-link" data-tab="knowledge">Knowledge</button>
                    <button class="tab-link" data-tab="security">Security</button>
                </nav>

                <div class="settings-panels">
                    <div id="tab-panel-general" class="tab-panel active">
                        <div class="settings-section">
                            <div class="settings-subsection">
                                <h3 class="settings-subsection-title">Core Details</h3>
                                <div class="form-group">
                                    <label for="edit-container-name" class="form-label">Container Name</label>
                                    <input type="text" id="edit-container-name" class="form-input">
                                </div>
                                <div class="form-group">
                                    <label for="edit-container-desc" class="form-label">Description</label>
                                    <textarea id="edit-container-desc" class="form-textarea" rows="3"></textarea>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Icon</label>
                                    <div id="edit-container-icon-selector" class="icon-selector-grid"></div>
                                </div>
                                <div class="form-group">
                                    <label for="edit-custom-icon-upload" class="form-label">Upload Custom Icon</label>
                                    <div class="custom-icon-uploader">
                                        <img id="edit-custom-icon-preview" src="" alt="Custom icon preview" class="custom-icon-preview hidden">
                                        <button type="button" id="edit-custom-icon-btn" class="modal-btn modal-btn-secondary">Choose Image...</button>
                                        <input type="file" id="edit-custom-icon-upload" class="hidden" accept="image/png, image/jpeg, image/webp, image/svg+xml">
                                    </div>
                                    <p class="form-help-text">This icon appears on the assistant's welcome screen and in settings.</p>
                                </div>
                            </div>
                            <div class="settings-subsection">
                                 <h3 class="settings-subsection-title">Visual Identity</h3>
                                 <div class="form-group">
                                    <label class="form-label">Card Background Image</label>
                                    <div class="card-image-selector">
                                        <div id="card-image-options-list" class="icon-selector-grid"></div>
                                        <img id="edit-card-image-preview" src="" alt="Card image preview" class="card-image-preview hidden">
                                        <button type="button" id="edit-card-image-btn" class="modal-btn modal-btn-secondary">Upload Custom Image...</button>
                                        <input type="file" id="edit-card-image-upload" class="hidden" accept="image/png, image/jpeg, image/webp">
                                    </div>
                                 </div>
                            </div>
                        </div>
                    </div>
                    <div id="tab-panel-customization" class="tab-panel">
                        <div class="settings-section">
                            <div class="settings-section-header">
                                <h2 class="settings-section-title">Quick Questions</h2>
                                <button id="suggest-questions-btn" class="suggest-ai-btn">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 3c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zM5 12c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zM19 12c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"/></svg>
                                    Suggest with AI
                                </button>
                            </div>
                            <div id="quick-questions-list" class="managed-list"></div>
                            <form id="add-quick-question-form" class="add-item-form">
                                <input type="text" id="new-quick-question-input" class="form-input" placeholder="Add a new question..." required>
                                <button type="submit" class="modal-btn modal-btn-primary">Add</button>
                            </form>
                        </div>
                        <div class="settings-section">
                            <div class="settings-section-header">
                                <h2 class="settings-section-title">Personas</h2>
                                <button id="suggest-personas-btn" class="suggest-ai-btn">
                                     <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 3c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zM5 12c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zM19 12c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"/></svg>
                                    Suggest with AI
                                </button>
                            </div>
                            <div id="personas-list" class="managed-list"></div>
                             <form id="add-persona-form" class="add-item-form">
                                <input type="text" id="new-persona-input" class="form-input" placeholder="Add a new persona..." required>
                                <button type="submit" class="modal-btn modal-btn-primary">Add</button>
                            </form>
                        </div>
                    </div>
                    <div id="tab-panel-appearance" class="tab-panel">
                        <div class="appearance-layout">
                            <div class="appearance-controls">
                                <div class="settings-section">
                                    <h3 class="settings-subsection-title">User Message</h3>
                                    <div class="color-picker-grid">
                                        <div class="form-group">
                                            <label for="user-bg-color" class="form-label">Background</label>
                                            <input type="color" id="user-bg-color" class="form-input form-input-color">
                                        </div>
                                        <div class="form-group">
                                            <label for="user-text-color" class="form-label">Text</label>
                                            <input type="color" id="user-text-color" class="form-input form-input-color">
                                        </div>
                                    </div>
                                </div>
                                <div class="settings-section">
                                    <h3 class="settings-subsection-title">Assistant Message</h3>
                                    <div class="color-picker-grid">
                                        <div class="form-group">
                                            <label for="bot-bg-color" class="form-label">Background</label>
                                            <input type="color" id="bot-bg-color" class="form-input form-input-color">
                                        </div>
                                        <div class="form-group">
                                            <label for="bot-text-color" class="form-label">Text</label>
                                            <input type="color" id="bot-text-color" class="form-input form-input-color">
                                        </div>
                                    </div>
                                </div>
                                <div class="settings-section">
                                    <h3 class="settings-subsection-title">Workspace</h3>
                                    <div class="color-picker-grid">
                                        <div class="form-group">
                                            <label for="bg-gradient-start-color" class="form-label">Background Start</label>
                                            <input type="color" id="bg-gradient-start-color" class="form-input form-input-color">
                                        </div>
                                        <div class="form-group">
                                            <label for="bg-gradient-end-color" class="form-label">Background End</label>
                                            <input type="color" id="bg-gradient-end-color" class="form-input form-input-color">
                                        </div>
                                    </div>
                                </div>
                                <div class="settings-section">
                                    <h3 class="settings-subsection-title">Sidebar</h3>
                                    <div class="color-picker-grid">
                                        <div class="form-group">
                                            <label for="sidebar-bg-color" class="form-label">Background</label>
                                            <input type="color" id="sidebar-bg-color" class="form-input form-input-color">
                                        </div>
                                        <div class="form-group">
                                            <label for="sidebar-text-color" class="form-label">Text</label>
                                            <input type="color" id="sidebar-text-color" class="form-input form-input-color">
                                        </div>
                                        <div class="form-group">
                                            <label for="sidebar-highlight-bg-color" class="form-label">Highlight</label>
                                            <input type="color" id="sidebar-highlight-bg-color" class="form-input form-input-color">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="appearance-preview-container wide">
                                <div class="settings-section">
                                    <h2 class="settings-section-title">Live Preview</h2>
                                    <div id="appearance-preview" class="appearance-preview wide">
                                        <div class="preview-bot-message">Hello! How can I help you today?</div>
                                        <div class="preview-user-message">Tell me about this feature.</div>
                                    </div>
                                    <div id="sidebar-preview" class="sidebar-preview">
                                        <div class="preview-sidebar-link active">Active Item</div>
                                        <div class="preview-sidebar-link">Another Item</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div id="tab-panel-apps" class="tab-panel">
                        <div class="settings-section">
                            <h2 class="settings-section-title">Functions</h2>
                            <p class="settings-section-description">AI-powered tools tailored for this container. Describe a function you need, and AI will build it.</p>
                            <div id="functions-list" class="managed-list"></div>
                            <form id="add-function-form" class="add-item-form">
                                <input type="text" id="new-function-input" class="form-input" placeholder="e.g., 'A tool to draft outreach emails'" required>
                                <button type="submit" id="generate-function-btn" class="modal-btn modal-btn-primary suggest-ai-btn">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 3c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zM5 12c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zM19 12c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"/></svg>
                                    <span>Generate with AI</span>
                                </button>
                            </form>
                        </div>
                    </div>
                     <div id="tab-panel-integrations" class="tab-panel">
                        <div class="settings-section">
                            <h2 class="settings-section-title">Integrations</h2>
                            <p class="settings-section-description">Activate globally enabled integrations for this container. They will appear in the sidebar.</p>
                            <div id="container-integrations-list" class="checkbox-list">
                                <!-- Dynamically populated list of available integrations -->
                            </div>
                        </div>
                    </div>
                    <div id="tab-panel-knowledge" class="tab-panel">
                        <div class="settings-section">
                             <h2 class="settings-section-title">Knowledge Base</h2>
                            <p class="settings-section-description">Manage the files this assistant uses for context. All uploaded files will be sent to the model with every request.</p>
                            <button id="manage-knowledge-btn" class="modal-btn modal-btn-primary">Manage Knowledge Files</button>
                        </div>
                    </div>
                    <div id="tab-panel-security" class="tab-panel">
                        <div class="settings-section">
                            <h2 class="settings-section-title">Knowledge Base Visibility</h2>
                            <div class="form-group-row">
                                <div>
                                    <label for="is-knowledge-public" class="toggle-switch-label">Make Knowledge Base Public</label>
                                    <p class="form-help-text">If enabled, users can see the "Knowledge" tab and upload files. The AI uses the knowledge base for answers regardless of this setting.</p>
                                </div>
                                <label class="toggle-switch"><input type="checkbox" id="is-knowledge-public"><span class="slider"></span></label>
                            </div>
                        </div>
                        <div class="settings-section">
                            <h2 class="settings-section-title">Access Control</h2>
                            <p class="settings-section-description">Enter user emails or group names that can access this container.</p>
                            <div id="access-control-list" class="managed-list"></div>
                             <form id="add-accessor-form" class="add-item-form">
                                <input type="text" id="new-accessor-input" class="form-input" placeholder="e.g., admin@company.com" required>
                                <button type="submit" class="modal-btn modal-btn-primary">Add</button>
                            </form>
                        </div>
                        <div class="settings-section">
                            <h2 class="settings-section-title">Available Models</h2>
                            <div id="available-models-list" class="checkbox-list">
                                <!-- This will be populated dynamically -->
                            </div>
                        </div>
                         <div class="settings-section danger-zone">
                            <h2 class="settings-section-title">Danger Zone</h2>
                            <div class="danger-zone-content">
                                <div>
                                    <strong>Delete this container</strong>
                                    <p>Once you delete a container, there is no going back. Please be certain.</p>
                                </div>
                                <button id="delete-container-btn" class="modal-btn btn-danger">Delete Container</button>
                            </div>
                        </div>
                    </div>
                </div>
                 <footer class="settings-footer">
                    <button type="button" id="cancel-settings-btn" class="modal-btn modal-btn-secondary">Cancel</button>
                    <button type="button" id="save-settings-btn" class="modal-btn modal-btn-primary" disabled>Save Changes</button>
                </footer>
            </div>
        </div>

        <!-- Knowledge Base Page View -->
        <div id="knowledge-page" class="page-view hidden">
             <header class="app-header">
                <div class="header-left">
                    <button id="back-to-assistant-btn" class="header-icon-btn" aria-label="Back to Assistant">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="19" y1="12" x2="5" y2="12"></line><polyline points="12 19 5 12 12 5"></polyline></svg>
                    </button>
                    <span id="knowledge-page-title" class="header-title">Knowledge Base</span>
                </div>
            </header>
            <div class="knowledge-container">
                <h1 id="knowledge-title">Manage Knowledge</h1>
                <p id="knowledge-subtitle" class="settings-section-description">Upload text or image files to provide context to the assistant. The content of these files will be included in every request to the AI.</p>
                <div id="file-dropzone" class="file-dropzone">
                    <div class="dropzone-prompt">
                        <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="17 8 12 3 7 8"></polyline><line x1="12" y1="3" x2="12" y2="15"></line></svg>
                        <p><strong>Drag & drop files here</strong></p>
                        <p>or</p>
                        <button id="knowledge-upload-btn" type="button" class="modal-btn modal-btn-secondary">Browse files</button>
                    </div>
                </div>
                <p class="form-help-text" style="text-align: center; margin-top: -1.5rem; margin-bottom: 2rem;">
                    Supported formats: PDF, TXT, MD, and common image types (JPG, PNG, WEBP). Office documents are not supported.
                </p>
                <input type="file" id="knowledge-file-input" class="hidden" multiple accept="image/jpeg,image/png,image/webp,image/gif,application/pdf,text/plain,.md,text/markdown">
                <div class="settings-section">
                    <h2 class="settings-section-title">Uploaded Files</h2>
                    <div id="knowledge-file-list" class="knowledge-file-list"></div>
                </div>
            </div>
        </div>

        <!-- Default Container Page View -->
        <div id="container-page" class="page-view hidden">
            <aside id="container-sidebar" class="container-sidebar">
                <div class="sidebar-header">
                    <h2 id="sidebar-container-title">Container</h2>
                </div>
                <nav class="sidebar-nav">
                    <button id="new-chat-btn" class="sidebar-link new-chat-btn">
                         <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line></svg>
                         <span>New Chat</span>
                    </button>
                    <ul id="sidebar-main-nav">
                        <li><a id="sidebar-assistant-link" class="sidebar-link active"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path></svg><span>Assistant</span></a></li>
                        <li><a id="sidebar-knowledge-link" class="sidebar-link"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path><path d="M6.5 2H20v15H6.5A2.5 2.5 0 0 1 4 14.5v-10A2.5 2.5 0 0 1 6.5 2z"></path></svg><span>Knowledge</span></a></li>
                    </ul>
                    <div id="sidebar-integrations-section" class="sidebar-section"></div>
                    <div id="sidebar-apps-section" class="sidebar-section"></div>
                    <div id="sidebar-history-section" class="sidebar-section">
                        <h3 class="sidebar-section-title">History</h3>
                        <ul id="sidebar-history-list"></ul>
                    </div>
                </nav>
            </aside>
            <div class="container-page-container">
                 <header class="app-header">
                    <div class="header-left">
                        <button id="sidebar-toggle-btn" class="header-icon-btn" aria-label="Toggle sidebar">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg>
                        </button>
                        <button class="back-to-hub-btn header-icon-btn" aria-label="Back to Hub">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="19" y1="12" x2="5" y2="12"></line><polyline points="12 19 5 12 12 5"></polyline></svg>
                        </button>
                         <span id="container-page-title" class="header-title">Container Assistant</span>
                    </div>
                    <div class="header-right">
                         <div class="user-profile-menu">
                            <button class="user-profile-trigger" aria-haspopup="true" aria-expanded="false">
                                <div class="user-avatar">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle></svg>
                                </div>
                                <span class="user-name">Alex Thorne</span>
                                 <svg class="chevron-down" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="6 9 12 15 18 9"></polyline></svg>
                            </button>
                            <div class="user-profile-dropdown hidden">
                                 <div class="dropdown-user-info">
                                    <strong>Alex Thorne</strong>
                                    <span>alex.thorne@example.com</span>
                                </div>
                                <a href="#" class="dropdown-link" data-action="logout">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path><polyline points="16 17 21 12 16 7"></polyline><line x1="21" y1="12" x2="9" y2="12"></line></svg>
                                    <span>Logout</span>
                                </a>
                            </div>
                        </div>
                    </div>
                </header>
                <main class="container-main-content">
                    <div class="chatbot-container">
                        <div class="chat-active-config">
                            <div id="model-select-container" class="custom-select"></div>
                            <div id="persona-select-container" class="custom-select"></div>
                        </div>
                        <div id="chat-messages" class="chat-messages">
                            <div id="chat-welcome" class="hidden">
                                <div id="welcome-icon" class="welcome-icon"></div>
                                <h2 id="welcome-title" class="welcome-title"></h2>
                                <p class="welcome-subtitle">Select a suggestion to start the conversation.</p>
                                <div id="welcome-questions" class="welcome-questions"></div>
                            </div>
                        </div>
                        <div id="attachment-preview" class="attachment-preview hidden">
                            <span id="attachment-filename"></span>
                            <button id="remove-attachment-btn" aria-label="Remove attachment">&times;</button>
                        </div>
                        <form id="chat-form" class="chat-input-form" aria-label="Chat input form">
                            <div class="chat-input-area">
                                <textarea id="chat-input" class="chat-input" placeholder="Ask a question..." rows="1"></textarea>
                                <div class="attachment-container">
                                    <button type="button" id="attachment-btn" class="attachment-btn" aria-label="Attach file">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21.44 11.05l-9.19 9.19a6 6 0 0 1-8.49-8.49l9.19-9.19a4 4 0 0 1 5.66 5.66l-9.2 9.19a2 2 0 0 1-2.83-2.83l8.49-8.48"></path></svg>
                                    </button>
                                    <div id="attachment-options" class="attachment-options hidden">
                                        <button type="button" id="upload-computer-btn">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="17 8 12 3 7 8"></polyline><line x1="12" y1="3" x2="12" y2="15"></line></svg>
                                            <span>Upload from Computer</span>
                                        </button>
                                    </div>
                                </div>
                            </div>
                            <input type="file" id="file-upload-input" class="hidden" accept="image/*,application/pdf,text/plain">
                            <button type="submit" id="send-chat-btn" class="send-chat-btn" aria-label="Send message" disabled>
                                <svg class="send-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="22" y1="2" x2="11" y2="13"></line><polygon points="22 2 15 22 11 13 2 9 22 2"></polygon></svg>
                                <div class="thinking-loader hidden">
                                    <div class="dot"></div>
                                    <div class="dot"></div>
                                    <div class="dot"></div>
                                </div>
                            </button>
                        </form>
                    </div>
                </main>
            </div>
        </div>

        <!-- Add Container Modal -->
        <div id="add-container-modal" class="modal-overlay hidden">
            <div class="modal-container modal-container-wide">
                <header class="modal-header">
                    <h2 class="modal-title">Create New Container</h2>
                    <button id="close-modal-btn" class="modal-close-btn" aria-label="Close modal">&times;</button>
                </header>
                <form id="add-container-form">
                    <div class="modal-body">
                        <div class="modal-layout">
                            <div class="modal-col-left">
                                <div class="form-group">
                                    <label for="container-name-input" class="form-label">Container Name</label>
                                    <input type="text" id="container-name-input" class="form-input" placeholder="e.g., Marketing, Q3 Product Launch" required>
                                </div>
                                <div class="form-group">
                                    <label for="container-type-select" class="form-label">Container Type</label>
                                    <select id="container-type-select" class="form-input">
                                        <option value="general" selected>General</option>
                                        <option value="product">Product</option>
                                        <option value="department">Department</option>
                                    </select>
                                </div>
                                <div id="container-website-group" class="form-group hidden">
                                    <label for="container-website-input" class="form-label">Product Website URL</label>
                                    <input type="url" id="container-website-input" class="form-input" placeholder="https://example.com">
                                </div>
                                <div class="form-group">
                                    <button type="button" id="generate-ai-btn" class="modal-btn modal-btn-primary suggest-ai-btn" disabled>
                                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 3c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zM5 12c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zM19 12c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"/></svg>
                                        <span>Generate with AI</span>
                                        <div class="thinking-loader hidden">
                                            <div class="dot"></div>
                                            <div class="dot"></div>
                                            <div class="dot"></div>
                                        </div>
                                    </button>
                                     <div class="ai-status-container">
                                        <div id="ai-status-spinner" class="spinner hidden"></div>
                                        <p id="ai-status-text" class="form-help-text"></p>
                                    </div>
                                </div>
                                 <div class="form-group">
                                    <label for="container-desc-input" class="form-label">Description</label>
                                    <textarea id="container-desc-input" class="form-textarea" rows="3" placeholder="A brief summary of this container's purpose..."></textarea>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Icon</label>
                                    <div id="container-icon-selector" class="icon-selector-grid"></div>
                                </div>
                                <div class="form-group">
                                    <label for="add-custom-icon-upload" class="form-label">Or Upload Custom Icon</label>
                                    <div class="custom-icon-uploader">
                                        <img id="add-custom-icon-preview" src="" alt="Custom icon preview" class="custom-icon-preview hidden">
                                        <button type="button" id="add-custom-icon-btn" class="modal-btn modal-btn-secondary">Choose Image...</button>
                                        <input type="file" id="add-custom-icon-upload" class="hidden" accept="image/png, image/jpeg, image/webp, image/svg+xml">
                                    </div>
                                </div>
                            </div>
                            <div id="ai-suggestions-container" class="modal-col-right hidden">
                                <div id="add-container-theme-preview" class="settings-section">
                                    <h2 class="settings-section-title">Suggested Theme</h2>
                                    <div class="appearance-preview">
                                        <div class="preview-bot-message">Hello! How can I assist?</div>
                                        <div class="preview-user-message">Tell me about this.</div>
                                    </div>
                                </div>
                                <div class="ai-suggestion-group">
                                    <label class="ai-suggestion-label">Suggested Quick Questions</label>
                                    <ul id="suggested-questions-list" class="ai-suggestion-list"></ul>
                                </div>
                                 <div class="ai-suggestion-group">
                                    <label class="ai-suggestion-label">Suggested Personas</label>
                                    <ul id="suggested-personas-list" class="ai-suggestion-list"></ul>
                                </div>
                                 <div class="ai-suggestion-group">
                                    <label class="ai-suggestion-label">Suggested Apps</label>
                                    <ul id="suggested-apps-list" class="ai-suggestion-list"></ul>
                                </div>
                            </div>
                        </div>
                    </div>
                    <footer class="modal-footer">
                        <button type="button" id="cancel-container-btn" class="modal-btn modal-btn-secondary">Cancel</button>
                        <button type="submit" id="create-container-btn" class="modal-btn modal-btn-primary" disabled>Create Container</button>
                    </footer>
                </form>
            </div>
        </div>

        <!-- Function Runner Modal -->
        <div id="function-runner-modal" class="modal-overlay hidden">
            <div class="modal-container">
                <header class="modal-header">
                    <h2 id="function-runner-title" class="modal-title">Run Function</h2>
                    <button id="close-function-runner-btn" class="modal-close-btn" aria-label="Close modal">&times;</button>
                </header>
                <form id="function-runner-form">
                    <div id="function-runner-body" class="modal-body"></div>
                    <footer class="modal-footer">
                        <button type="button" id="cancel-function-runner-btn" class="modal-btn modal-btn-secondary">Cancel</button>
                        <button type="submit" id="run-function-btn" class="modal-btn modal-btn-primary">Run</button>
                    </footer>
                </form>
            </div>
        </div>

        <!-- Delete Confirmation Modal -->
        <div id="delete-confirm-modal" class="modal-overlay hidden">
            <div class="modal-container">
                <header class="modal-header">
                    <h2 class="modal-title">Are you sure?</h2>
                    <button id="close-delete-modal-btn" class="modal-close-btn" aria-label="Close modal">&times;</button>
                </header>
                <div class="modal-body">
                    <p id="delete-confirm-main-text">Are you sure you want to delete <strong id="delete-item-name"></strong>?</p>
                    <p id="delete-confirm-description" class="settings-section-description"></p>
                </div>
                <footer class="modal-footer">
                    <button type="button" id="cancel-delete-btn" class="modal-btn modal-btn-secondary">Cancel</button>
                    <button type="button" id="confirm-delete-btn" class="modal-btn btn-danger">Yes, delete it</button>
                </footer>
            </div>
        </div>

    </div>
    <div id="toast-notification" class="toast"></div>
    <div id="cookie-consent-banner" class="cookie-banner hidden">
        <p>This website uses cookies to ensure you get the best experience. <a id="privacy-policy-link" href="#" target="_blank">Learn more</a>.</p>
        <button id="accept-cookies-btn" class="modal-btn modal-btn-primary">Accept</button>
    </div>
</body>
</html>